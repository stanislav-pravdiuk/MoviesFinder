{"version":3,"file":"static/js/544.7d25924f.chunk.js","mappings":"8PAGeA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA2BC,EAAQC,GAAnC,iFACiBC,MAAM,GAAD,OAAIC,EAAAA,GAAJ,OAAeH,GAAf,OAAwBI,EAAAA,GAAxB,OAAkCH,IACvCI,MAAK,SAAAC,GAAa,OAAOA,EAASC,MAAO,IAF1D,0GAKA,M,SAL2B,EAAZR,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,ECFf,EAA4B,0BAA5B,EAAmE,2BAAnE,EAAkH,kC,SCsDlH,MAlDA,WAAmB,IAAD,EAEd,GAA4BS,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,EAAO,UAAGJ,EAAaK,IAAI,kBAApB,QAAkC,GAIzChB,EAAK,iBAAae,GAexB,OACI,iBAAKE,UAAWC,EAAhB,WACI,iBAAMD,UAAWC,EAAjB,UACI,kBACAD,UAAWC,EACXC,KAAK,OACLC,MAAOL,EACPM,SAdZ,SAA2BC,GACvB,GAAuB,KAAnBA,EAAEC,OAAOH,MACT,OAAOR,EAAgB,CAAC,GAE5BA,EAAgB,CAACG,QAASO,EAAEC,OAAOH,OACtC,EAUWI,UArBZ,WACI1B,EAJa,wBAIYE,GACpBI,MAAK,SAAAC,GAAQ,OAAII,EAAUJ,EAASoB,QAAvB,IACbC,OAAM,SAAAC,GAAWC,QAAQC,IAAIF,EAAQ,GAC7C,OAoBO,wBACKnB,EAAOsB,KAAI,SAAAC,GACR,OAAO,yBACH,SAAC,KAAD,CAAMC,MAAO,CAAEC,KAAMpB,GAAWqB,GAAE,UAAKH,EAAMI,IAA7C,SACKJ,EAAMK,kBAFCL,EAAMI,GAKzB,QAKhB,C,6ECrDM,IAAMjC,EAAQ,gCACRC,EAAO,kC,sBCDpB,SAASkC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBxB,EAAQyB,EAAKzB,KAInB,CAHE,MAAOO,GAEP,YADAa,EAAOb,EAET,CAEIkB,EAAKC,KACPP,EAAQnB,GAER2B,QAAQR,QAAQnB,GAAOhB,KAAKqC,EAAOC,EAEvC,CAEe,SAASM,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIN,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMW,EAAGK,MAAMJ,EAAME,GAEzB,SAASX,EAAMrB,GACbiB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQtB,EAClE,CAEA,SAASsB,EAAOa,GACdlB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASa,EACnE,CAEAd,OAAMe,EACR,GACF,CACF,C","sources":["services/queryAPI.js","webpack://goit-react-hw-05-movies/./src/pages/movies/movies.module.css?0ac1","pages/movies/Movies.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { BASE_URL } from \"./api\";\nimport { API_KEY } from \"./api\";\n\nasync function queryMovies(params, query) {\n    return await fetch(`${BASE_URL}${params}${API_KEY}${query}`)\n                .then(response => {return response.json()})\n};\n\nexport default queryMovies;","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"movies_searchbar__csfpG\",\"searchForm\":\"movies_searchForm__myT4g\",\"searchForm__input\":\"movies_searchForm__input__stPeS\"};","import { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { useState } from 'react';\nimport queryMovies from 'services/queryAPI';\nimport css from './movies.module.css'\n\nfunction Movies() {\n\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const location = useLocation();\n    const movieId = searchParams.get('movieId') ?? '';\n\n\n    const fetchParams = `search/movie?api_key=`;\n    const query = `&query=${movieId}`;\n    \n    function searchMovie() {\n        queryMovies(fetchParams, query)\n            .then(response => setMovies(response.results))\n            .catch(error => { console.log(error) })\n    };\n\n    function updateQueryString(e) {\n        if (e.target.value === '') {\n            return setSearchParams({})\n        }\n        setSearchParams({movieId: e.target.value})\n    };\n\n    return (\n        <div className={css.searchbar}>\n            <form className={css.searchForm}>\n                <input\n                className={css.searchForm__input}\n                type=\"text\"\n                value={movieId}\n                onChange={updateQueryString}\n                onKeyDown={searchMovie}\n                />\n            </form>\n            <ul>\n                {movies.map(movie => {\n                    return <li key={movie.id}>\n                        <Link state={{ from: location}} to={`${movie.id}`}>\n                            {movie.original_title}\n                        </Link>\n                    </li>\n                })\n                }\n            </ul>    \n        </div>\n    )\n};\n\nexport default Movies;","export const BASE_URL = `https://api.themoviedb.org/3/`;\nexport const API_KEY = `acac49daeae449d51e6ac182f82d5604`;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["queryMovies","params","query","fetch","BASE_URL","API_KEY","then","response","json","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","movieId","get","className","css","type","value","onChange","e","target","onKeyDown","results","catch","error","console","log","map","movie","state","from","to","id","original_title","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}