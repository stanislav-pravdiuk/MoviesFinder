{"version":3,"file":"static/js/544.4c86f0b4.chunk.js","mappings":"2LACA,EAA+B,8BAA/B,EAAkF,oCAAlF,EAAgJ,yCAAhJ,EAAmN,yC,SC6BnN,MA1BA,YAA8B,IAAXA,EAAU,EAAVA,OAETC,GAAWC,EAAAA,EAAAA,MAEjB,OACI,eAAIC,UAAWC,EAAf,SACSJ,EAAOK,KAAI,SAAAC,GAAU,IAAD,EACXC,EAAM,8CAA0CD,EAAME,aAC5D,OAAO,eAECL,UAAWC,EAFZ,UAGK,UAAC,KAAD,CAAMK,MAAO,CAAEC,KAAMT,GAAWU,GAAE,kBAAaL,EAAMM,IAArD,WACI,gBAAKT,UAAWC,EAA6BS,IAAKN,EAAQO,IAAKR,EAAMS,SACrE,cAAGZ,UAAWC,EAAd,mBAA4CE,EAAMS,aAAlD,QAA2DT,EAAMU,WAJpEV,EAAMM,GAOtB,KAIhB,C,qICrBcK,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA2BC,EAAQC,GAAnC,iFACiBC,MAAM,GAAD,OAAIC,EAAAA,GAAJ,OAAeH,GAAf,OAAwBI,EAAAA,GAAxB,OAAkCH,IACvCI,MAAK,SAAAC,GAAa,OAAOA,EAASC,MAAO,IAF1D,0GAKA,M,SAL2B,EAAZR,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,ECFf,EAA4B,0BAA5B,EAAmE,2BAAnE,EAAkH,kC,kBC4DlH,MAvDA,WAAmB,IAAD,EAEd,GAA4BS,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAO,UAAGF,EAAaG,IAAI,kBAApB,QAAkC,GAGzCd,EAAK,iBAAaa,GASxB,SAASE,IACLjB,EAXa,wBAWYE,GACpBI,MAAK,SAAAC,GAAQ,OAAII,EAAUJ,EAASW,QAAvB,IACbC,OAAM,SAAAC,GAAWC,QAAQC,IAAIF,EAAQ,GAC7C,CAgBD,OA3BAG,EAAAA,EAAAA,YAAU,WACU,KAAZR,GACJE,GAGH,GAAE,KAuBC,4BACI,gBAAK/B,UAAWC,EAAhB,UACI,iBAAMD,UAAWC,EAAjB,UACI,kBACAD,UAAWC,EACXqC,KAAK,OACLC,MAAOV,EACPW,SAtBhB,SAA2BC,GACvB,GAAuB,KAAnBA,EAAEC,OAAOH,MACT,OAAOX,EAAgB,CAAC,GAE5BA,EAAgB,CAACC,QAASY,EAAEC,OAAOH,OACtC,EAkBeI,UAhBhB,SAAuBF,GACL,UAAVA,EAAEG,MACFH,EAAEI,iBACFd,IAEP,SAeO,SAACe,EAAA,EAAD,CAASjD,OAAQ2B,MAG5B,C,6EC3DM,IAAMN,EAAQ,gCACRC,EAAO,kC,sBCDpB,SAAS4B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQR,EAAKS,GACpE,IACE,IAAIC,EAAON,EAAIJ,GAAKS,GAChBd,EAAQe,EAAKf,KAInB,CAHE,MAAOL,GAEP,YADAgB,EAAOhB,EAET,CAEIoB,EAAKC,KACPN,EAAQV,GAERiB,QAAQP,QAAQV,GAAOnB,KAAK+B,EAAOC,EAEvC,CAEe,SAASK,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIN,SAAQ,SAAUP,EAASC,GACpC,IAAIF,EAAMU,EAAGK,MAAMJ,EAAME,GAEzB,SAASV,EAAMZ,GACbQ,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQb,EAClE,CAEA,SAASa,EAAOY,GACdjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,EACnE,CAEAb,OAAMc,EACR,GACF,CACF,C","sources":["webpack://goit-react-hw-05-movies/./src/components/gallery/gallery.module.css?64ce","components/gallery/Gallery.jsx","services/queryAPI.js","webpack://goit-react-hw-05-movies/./src/pages/movies/movies.module.css?0ac1","pages/movies/Movies.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"imageGallery\":\"gallery_imageGallery__KmnX4\",\"imageGallery__item\":\"gallery_imageGallery__item__KEebH\",\"imageGalleryItem__image\":\"gallery_imageGalleryItem__image__dGH3g\",\"titleGalleryItem__image\":\"gallery_titleGalleryItem__image__9EjIW\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './gallery.module.css';\nimport PropTypes from 'prop-types';\n\nfunction Gallery({ object }) {\n\n    const location = useLocation();\n\n    return (\n        <ul className={css.imageGallery}>\n                {object.map(movie => {\n                    const poster = `https://image.tmdb.org/t/p/original/${movie.poster_path}`;\n                    return <li\n                            key={movie.id}\n                            className={css.imageGallery__item}>\n                                <Link state={{ from: location}} to={`/movies/${movie.id}`}>\n                                    <img className={css.imageGalleryItem__image} src={poster} alt={movie.title} />\n                                    <p className={css.titleGalleryItem__image}>{movie.title ?? movie.name}</p>\n                                </Link>\n                            </li>\n                })\n                }\n            </ul>\n    )\n};\n\nGallery.propTypes = {\n    object: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default Gallery","import { BASE_URL } from \"./api\";\nimport { API_KEY } from \"./api\";\n\nasync function queryMovies(params, query) {\n    return await fetch(`${BASE_URL}${params}${API_KEY}${query}`)\n                .then(response => {return response.json()})\n};\n\nexport default queryMovies;","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"movies_searchbar__csfpG\",\"searchForm\":\"movies_searchForm__myT4g\",\"searchForm__input\":\"movies_searchForm__input__stPeS\"};","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport queryMovies from 'services/queryAPI';\nimport css from './movies.module.css';\nimport Gallery from 'components/gallery/Gallery';\n\nfunction Movies() {\n\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const movieId = searchParams.get('movieId') ?? '';\n\n    const fetchParams = `search/movie?api_key=`;\n    const query = `&query=${movieId}`;\n\n    useEffect(() => {\n        if (movieId !== '') {\n        searchMovie()\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n    \n    function searchMovie() {\n        queryMovies(fetchParams, query)\n            .then(response => setMovies(response.results))\n            .catch(error => { console.log(error) })\n    };\n\n    function updateQueryString(e) {\n        if (e.target.value === '') {\n            return setSearchParams({})\n        }\n        setSearchParams({movieId: e.target.value})\n    };\n\n    function handleKeyDown(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            searchMovie();\n        }   \n    };\n\n    return (\n        <div>\n            <div className={css.searchbar}>\n                <form className={css.searchForm}>\n                    <input\n                    className={css.searchForm__input}\n                    type=\"text\"\n                    value={movieId}\n                    onChange={updateQueryString}\n                    onKeyDown={handleKeyDown}\n                    />\n                </form>\n            </div>\n            <Gallery object={movies} />\n        </div>\n    )\n};\n\nexport default Movies;","export const BASE_URL = `https://api.themoviedb.org/3/`;\nexport const API_KEY = `acac49daeae449d51e6ac182f82d5604`;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["object","location","useLocation","className","css","map","movie","poster","poster_path","state","from","to","id","src","alt","title","name","queryMovies","params","query","fetch","BASE_URL","API_KEY","then","response","json","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","movieId","get","searchMovie","results","catch","error","console","log","useEffect","type","value","onChange","e","target","onKeyDown","key","preventDefault","Gallery","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}